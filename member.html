<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>會員專區 - HEHE PET HOTEL</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <!-- Header：沿用現有樣式 -->
  <header class="header">
    <div class="logo-container">
      <div class="logo-image"></div>
      <div class="logo-text">
        <div class="logo-chinese">哈哈<br>寵物旅館</div>
        <div class="logo-english">HEHE PET HOTEL</div>
      </div>
    </div>

    <nav class="nav-menu">
      <a href="index.html#about" class="nav-link">關於我們</a>
      <a href="order.html" class="nav-link">訂購</a>
      <a href="index.html#contact" class="nav-link">聯繫方式</a>
      <a href="member.html" class="nav-link active">會員專區</a>
    </nav>

    <button id="hamburger" class="hamburger">
        <span></span><span></span><span></span>
      </button>
      
      <div id="menuPanel" class="menu-panel">
        <div class="menu-container">
          <!-- 第一列：服務項目 -->
          <div class="menu-column">
            <h3 class="column-title">服務項目</h3>
            <ul>
              <li><a href="index.html#service">服務內容</a></li>
              <li><a href="index.html#order-service">訂單式服務</a></li>
              <li><a href="index.html#sitter">保母</a></li>
            </ul>
          </div>
      
          <!-- 第二列：資訊 -->
          <div class="menu-column">
            <h3 class="column-title">資訊</h3>
            <ul>
              <li><a href="index.html#environment">旅館環境</a></li>
              <li><a href="index.html#location">地理位置</a></li>
              <li><a href="order.html">訂購</a></li>
              <li><a href="member.html">會員專區</a></li>
            </ul>
          </div>
      
          <!-- 第三列：會員登入 -->
          <div class="menu-column login-column">
            <h3 class="column-title">會員中心</h3>
            <div class="login-form" id="loginForm">
              <input type="text" id="username" placeholder="帳號" class="input-field">
              <input type="password" id="password" placeholder="密碼" class="input-field">
              <div id="loginError" class="error-message"></div>
              <button id="loginBtn" class="login-btn">登入</button>
              <button class="register-btn">註冊</button>
            </div>
      
            <!-- 會員登入後資訊 -->
            <div class="user-info" id="userInfo" style="display: none;">
              <div class="user-avatar">
                <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=Felix" alt="User Avatar">
              </div>
              <div class="user-name" id="displayUsername">Admin</div>
              <button class="member-area-btn" onclick="location.href='member.html'">會員專區</button>
              <button id="logoutBtn" class="logout-btn">登出</button>
            </div>
          </div>
      
          <!-- 聯絡資訊 -->
          <div class="contact-info">
            <h3 class="contact-title">聯絡我們</h3>
            <div class="contact-grid">
              <div class="contact-item">
                <div class="contact-details">
                  <p class="contact-label">地址</p>
                  <p class="contact-text">台北市大安區忠孝東路三段1號</p>
                </div>
              </div>
              <div class="contact-item">
                <div class="contact-details">
                  <p class="contact-label">電話</p>
                  <p class="contact-text">02-1234-5678</p>
                </div>
              </div>
              <div class="contact-item">
                <div class="contact-details">
                  <p class="contact-label">Email</p>
                  <p class="contact-text">info@hehepet.com</p>
                </div>
              </div>
              <div class="contact-item">
                <div class="contact-details">
                  <p class="contact-label">營業時間</p>
                  <p class="contact-text">週一至週日 09:00 - 21:00</p>
                </div>
              </div>
            </div>
      
            <div class="social-media">
              <a href="#" class="social-link instagram">
                <span class="social-icon">📷</span>
                <span>Instagram</span>
              </a>
              <a href="#" class="social-link facebook">
                <span class="social-icon">👍</span>
                <span>Facebook</span>
              </a>
              <a href="#" class="social-link line">
                <span class="social-icon">💬</span>
                <span>LINE</span>
              </a>
            </div>
          </div>
        </div>
      </div>
  </header>

  <div class="overlay" id="overlay"></div>

  <!-- 會員專區主體 -->
  <main class="member-page">
    <!-- 未登入提示 -->
    <div id="memberGuestView" class="order-guest-view">
      <p>請先登入會員以查看會員專區</p>
      <button id="memberGoToLoginBtn" class="btn-primary">前往登入</button>
    </div>

    <!-- 會員專區內容 (登入後顯示) -->
    <div id="memberMemberView" class="member-member-view" style="display: none;">
      <!-- 會員概覽 -->
      <section class="member-hero">
        <div class="member-hero-left">
          <div class="member-avatar">
            <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=Felix" alt="User Avatar">
          </div>
          <div>
            <div class="member-name" id="memberDisplayName">王小明</div>
            <div class="member-tag-row">
              <span class="member-tag member-level">黃金會員</span>
              <span class="member-tag">已加入 2 年 3 個月</span>
            </div>
          </div>
        </div>
        <div class="member-hero-right">
          <div class="member-stat">
            <div class="member-stat-label">可用點數</div>
            <div class="member-stat-value">1,280</div>
          </div>
          <div class="member-stat">
            <div class="member-stat-label">未使用優惠券</div>
            <div class="member-stat-value">3 張</div>
          </div>
          <div class="member-stat">
            <div class="member-stat-label">預約中</div>
            <div class="member-stat-value">1 筆</div>
          </div>
        </div>
      </section>

      <!-- 分頁切換 -->
      <section class="member-tabs">
        <div class="member-tab-list">
          <button class="member-tab active" data-tab="profile">個人資料</button>
          <button class="member-tab" data-tab="orders">訂單明細</button>
          <button class="member-tab" data-tab="pets">寵物資料</button>
          <button class="member-tab" data-tab="logs">照顧日誌</button>
        </div>

        <!-- 個人資料 -->
        <div class="member-tab-panel active" id="tab-profile">
          <div class="member-card">
            <h2 class="member-card-title">個人資料</h2>
            <div class="member-info-grid">
              <div class="member-info-item">
                <span class="member-info-label">姓名</span>
                <span class="member-info-value" id="memberInfoName">王小明</span>
              </div>
              <div class="member-info-item">
                <span class="member-info-label">手機</span>
                <span class="member-info-value">0912-345-678</span>
              </div>
              <div class="member-info-item">
                <span class="member-info-label">Email</span>
                <span class="member-info-value">example@mail.com</span>
              </div>
              <div class="member-info-item">
                <span class="member-info-label">常用地址</span>
                <span class="member-info-value">台北市大安區忠孝東路三段 1 號</span>
              </div>
              <div class="member-info-item member-info-item-full">
                <span class="member-info-label">備註</span>
                <span class="member-info-value">聯絡電話無人接聽時，可改傳 LINE。</span>
              </div>
            </div>
          </div>
        </div>

        <!-- 訂單明細 -->
        <div class="member-tab-panel" id="tab-orders">
          <div class="member-card">
            <h2 class="member-card-title">訂單明細</h2>
            <div class="member-order-filters">
              <button class="order-filter active" data-status="all">全部</button>
              <button class="order-filter" data-status="reserved">預約中</button>
              <button class="order-filter" data-status="staying">住宿中</button>
              <button class="order-filter" data-status="completed">已完成</button>
              <button class="order-filter" data-status="cancelled">已取消</button>
            </div>
            <div class="member-order-list">
              <div class="member-order-item" data-status="reserved">
                <div class="order-main">
                  <div class="order-id-date">
                    <span class="order-id">訂單編號：PH20251216001</span>
                    <span class="order-date">2025/12/16</span>
                  </div>
                  <div class="order-detail">
                    <span>住宿 3 晚</span>
                    <span id="service-PH20251216001" class="service-info">服務：基礎照護</span>
                    <span>保母：阿倫</span>
                  </div>
                </div>
                <div class="order-side">
                  <div class="order-price">$ 4,500</div>
                  <div class="order-status order-status-on-going">預約中</div>
                </div>
              </div>

              <div class="member-order-item" data-status="staying">
                <div class="order-main">
                  <div class="order-id-date">
                    <span class="order-id">訂單編號：PH20251220002</span>
                    <span class="order-date">2025/12/20</span>
                  </div>
                  <div class="order-detail">
                    <span>住宿 5 晚</span>
                    <span id="service-PH20251220002" class="service-info">服務：精緻美容</span>
                    <span>保母：David</span>
                  </div>
                </div>
                <div class="order-side">
                  <div class="order-price">$ 8,000</div>
                  <div class="order-status order-status-on-going">住宿中</div>
                  <button class="order-link-btn" onclick="switchToLogs('PH20251220002')">查看照顧日誌</button>
                </div>
              </div>

              <div class="member-order-item" data-status="completed">
                <div class="order-main">
                  <div class="order-id-date">
                    <span class="order-id">訂單編號：PH20251128009</span>
                    <span class="order-date">2025/11/28</span>
                  </div>
                  <div class="order-detail">
                    <span>住宿 2 晚</span>
                    <span id="service-PH20251128009" class="service-info">服務：醫療監控</span>
                    <span>保母：小菀</span>
                  </div>
                </div>
                <div class="order-side">
                  <div class="order-price">$ 3,200</div>
                  <div class="order-status order-status-done">已完成</div>
                  <button class="order-link-btn" onclick="switchToLogs('PH20251128009')">查看照顧日誌</button>
                </div>
              </div>

              <div class="member-order-item" data-status="cancelled">
                <div class="order-main">
                  <div class="order-id-date">
                    <span class="order-id">訂單編號：PH20251010005</span>
                    <span class="order-date">2025/10/10</span>
                  </div>
                  <div class="order-detail">
                    <span>住宿 1 晚</span>
                    <span id="service-PH20251010005" class="service-info">服務：基礎照護</span>
                    <span>保母：Alice</span>
                  </div>
                </div>
                <div class="order-side">
                  <div class="order-price">$ 1,500</div>
                  <div class="order-status" style="color: #999;">已取消</div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- 寵物資料 -->
        <div class="member-tab-panel" id="tab-pets">
          <div class="member-card">
            <h2 class="member-card-title">寵物資料</h2>
            <div class="pet-card-list">
              <div class="pet-card">
                <div class="pet-header">
                  <div class="pet-avatar">🐶</div>
                  <div>
                    <div class="pet-name">QQ</div>
                    <div class="pet-sub">柯基・4 歲・已結紮</div>
                  </div>
                </div>
                <div class="pet-info">
                  <div><span class="pet-label">體重</span> 10.2 kg</div>
                  <div><span class="pet-label">個性</span> 親人但怕大狗</div>
                  <div><span class="pet-label">過敏 / 慢性病</span> 無</div>
                  <div><span class="pet-label">特別注意</span> 散步時看到機車聲會緊張。</div>
                </div>
              </div>

              <div class="pet-card">
                <div class="pet-header">
                  <div class="pet-avatar">🐱</div>
                  <div>
                    <div class="pet-name">豆花</div>
                    <div class="pet-sub">米克斯・2 歲・未結紮</div>
                  </div>
                </div>
                <div class="pet-info">
                  <div><span class="pet-label">體重</span> 4.1 kg</div>
                  <div><span class="pet-label">個性</span> 慢熟，喜歡安靜空間</div>
                  <div><span class="pet-label">過敏 / 慢性病</span> 對雞肉過敏</div>
                  <div><span class="pet-label">特別注意</span> 只吃飼主自備飼料。</div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- 照顧日誌 -->
        <div class="member-tab-panel" id="tab-logs">
          <div class="member-card">
            <h2 class="member-card-title">照顧日誌</h2>
            <div class="care-log-list">
              <!-- Log for PH20251220002 (Staying) -->
              <article class="care-log-item" id="log-PH20251220002">
                <div class="care-log-header">
                  <div>
                    <div class="care-log-date">2025/12/20・入住第 1 天</div>
                    <div class="care-log-pet">QQ・5 晚住宿・保母 David</div>
                  </div>
                  <span class="care-log-tag">住宿中</span>
                </div>
                <div class="care-log-body">
                  <p>David 回報：QQ 今天入住狀況非常良好，對於大型犬房的空間感到很滿意，已經在專屬庭院跑了好幾圈。</p>
                  <p>晚餐食慾不錯，全部吃光光。晚上會再安排一次散步。</p>
                </div>
              </article>

              <!-- Log for PH20251128009 (Completed) -->
              <article class="care-log-item" id="log-PH20251128009">
                <div class="care-log-header">
                  <div>
                    <div class="care-log-date">2025/11/30・退房</div>
                    <div class="care-log-pet">豆花・2 晚住宿・保母 小菀</div>
                  </div>
                  <span class="care-log-tag care-log-tag-done">已完成</span>
                </div>
                <div class="care-log-body">
                  <p>小菀回報：豆花這兩天的住宿表現很棒，雖然第一天有點害羞，但第二天已經願意讓人摸摸頭了。</p>
                  <p>醫療監控數據一切正常，期待下次再見！</p>
                </div>
              </article>
            </div>
          </div>
        </div>
      </section>
    </div>
  </main>

  <script src="function.js"></script>
  <script>
    // 簡單前端 tab 切換
    const tabs = document.querySelectorAll('.member-tab');
    const panels = {
      profile: document.getElementById('tab-profile'),
      orders: document.getElementById('tab-orders'),
      pets: document.getElementById('tab-pets'),
      logs: document.getElementById('tab-logs'),
    };

    tabs.forEach(tab => {
      tab.addEventListener('click', () => {
        tabs.forEach(t => t.classList.remove('active'));
        tab.classList.add('active');

        Object.values(panels).forEach(p => p.classList.remove('active'));
        const key = tab.dataset.tab;
        panels[key].classList.add('active');
      });
    });

    // 切換到照顧日誌 Tab 並捲動到指定日誌
    function switchToLogs(orderId) {
      // 找到 logs tab 按鈕並觸發點擊
      const logsTab = document.querySelector('.member-tab[data-tab="logs"]');
      if (logsTab) {
        logsTab.click();
        
        if (orderId) {
            setTimeout(() => {
                const logElement = document.getElementById('log-' + orderId);
                if (logElement) {
                    logElement.scrollIntoView({ behavior: 'smooth', block: 'center' });
                    // Optional: Add a highlight effect
                    logElement.style.transition = 'background-color 0.5s';
                    logElement.style.backgroundColor = '#FFF4E6'; // Light orange highlight
                    setTimeout(() => {
                        logElement.style.backgroundColor = '';
                    }, 2000);
                }
            }, 100); // Small delay to allow tab switch rendering
        } else {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }
      }
    }
  </script>
</body>
</html>